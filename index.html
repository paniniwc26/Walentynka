<!DOCTYPE html>
<html lang="pl">
<head>
  <meta charset="UTF-8">
  <title>Walentynka</title>
  <style>
    /* ======= T≈Ço i body ======= */
    body {
      margin: 0;
      height: 100vh;
      background: linear-gradient(135deg, #1e1e2f, #2b2b45);
      display: flex;
      justify-content: center;
      align-items: center;
      overflow: hidden;
      font-family: 'Segoe UI', sans-serif;
    }

    /* ======= Karta ======= */
    .card {
      background: white;
      padding: 40px;
      border-radius: 20px;
      width: 360px;
      text-align: center;
      box-shadow: 0 15px 40px rgba(0,0,0,0.2);
      z-index: 2;
      animation: fadeIn 1.5s ease;
    }

    .title {
      margin-bottom: 10px;
      font-size: 24px;
    }

    input {
      margin-top: 20px;
      padding: 12px;
      width: 100%;
      border-radius: 10px;
      border: 1px solid #ccc;
      font-size: 16px;
    }

    button {
      margin-top: 15px;
      padding: 12px;
      width: 100%;
      background: #ff4d6d;
      border: none;
      color: white;
      font-size: 16px;
      border-radius: 10px;
      cursor: pointer;
      transition: 0.3s;
    }

    button:hover {
      background: #e63956;
      transform: scale(1.05);
    }

    .secret {
      display: none;
      margin-top: 20px;
      color: #e63956;
      animation: reveal 1s ease forwards;
      position: relative;
      z-index: 2;
      text-align: left;
      white-space: pre-line; /* utrzymuje nowe linie w tre≈õci */
    }

    /* ======= Animacje ======= */
    @keyframes fadeIn {
      from { opacity: 0; transform: translateY(30px); }
      to { opacity: 1; transform: translateY(0); }
    }

    @keyframes reveal {
      from { opacity: 0; }
      to { opacity: 1; }
    }

    /* ======= Serduszka ======= */
    #confetti {
      position: fixed;
      top: 0;
      left: 0;
      pointer-events: none;
      z-index: 1;
    }
  </style>
</head>
<body>

  <div class="hearts"></div>

  <div class="card">
    <h2 class="title">üîê Tajemnica</h2>
    <p>Odkryj mojƒÖ wiadomo≈õƒá wpisujƒÖc odpowiednie has≈Ço.</p>
    
    <input type="password" id="password" placeholder="Wpisz has≈Ço">
    <button onclick="checkPassword()">Odkryj</button>

    <div class="secret" id="secret">
      <p id="secretText"></p>
      <canvas id="confetti"></canvas>
    </div>
  </div>

  <script>
    // ====== HAS≈ÅO I WIADOMO≈öƒÜ ======
    const correctPassword = "wsparcie";

    const message = `Cze≈õƒá [jej imiƒô],

Chcia≈Çem Ci powiedzieƒá wszystko, co my≈õlƒô od dawna.  
Od momentu, kiedy zaczƒôli≈õmy rozmawiaƒá w 2022 roku, wiedzia≈Çem, ≈ºe jeste≈õ kim≈õ wyjƒÖtkowym.  
Pamiƒôtam naszƒÖ pierwszƒÖ wiadomo≈õƒá 14 lutego 2023 ‚Äì i choƒá to by≈Ç zwyk≈Çy dzie≈Ñ, dla mnie sta≈Ç siƒô poczƒÖtkiem czego≈õ wa≈ºnego.  
Pamiƒôtam te≈º nasze wsp√≥lne wyj≈õcie 31 grudnia do Galerii Morena ‚Äì tam poczu≈Çem, ≈ºe naprawdƒô chcƒô Ciƒô lepiej poznaƒá.

Chcƒô, ≈ºeby≈õ wiedzia≈Ça, ≈ºe zawsze chcƒô Ciƒô wspieraƒá, niezale≈ºnie od wszystkiego.  
Jeste≈õ dla mnie kim≈õ bardzo wyjƒÖtkowym i zale≈ºy mi na Tobie wiƒôcej ni≈º potrafiƒô wyraziƒá s≈Çowami.

[Tu mo≈ºesz dodaƒá wszystkie swoje uczucia, wspomnienia, marzenia i wszystko, co chcesz jej powiedzieƒá]`;

    // ====== SPRAWDZANIE HAS≈ÅA ======
    let unlocked = false;

    function checkPassword() {
      if (unlocked) return;

      const input = document.getElementById("password").value;

      if (input.toLowerCase() === correctPassword) {
        unlocked = true;

        document.getElementById("secret").style.display = "block";
        document.getElementById("password").disabled = true;
        document.querySelector("button").disabled = true;

        startTypewriter();
        startHearts();
      } else {
        shakeCard();
      }
    }

    // ====== DELIKATNE POTRZƒÑ≈öNIƒòCIE PRZY B≈ÅƒòDZIE ======
    function shakeCard() {
      const card = document.querySelector(".card");
      card.style.transition = "0.2s";
      card.style.transform = "translateX(-5px)";
      setTimeout(() => card.style.transform = "translateX(5px)", 100);
      setTimeout(() => card.style.transform = "translateX(0)", 200);
    }

    // ====== EFEKT MASZYNY DO PISANIA ======
    function startTypewriter() {
      const textElement = document.getElementById("secretText");
      let index = 0;

      function type() {
        if (index < message.length) {
          textElement.innerHTML += message.charAt(index);
          index++;
          setTimeout(type, 35);
        }
      }

      type();
    }

    // ====== SUBTELNE LATAJƒÑCE SERCA ======
    function startHearts() {
      const canvas = document.getElementById("confetti");
      const ctx = canvas.getContext("2d");

      canvas.width = window.innerWidth;
      canvas.height = window.innerHeight;

      const hearts = [];
      const colors = ["#ff4d6d", "#ff758f", "#ffffff", "#e63946"];

      for (let i = 0; i < 50; i++) {
        hearts.push({
          x: Math.random() * canvas.width,
          y: Math.random() * canvas.height,
          size: Math.random() * 10 + 8,
          speed: Math.random() * 1.2 + 0.4,
          opacity: Math.random() * 0.5 + 0.3,
          color: colors[Math.floor(Math.random() * colors.length)]
        });
      }

      function drawHeart(x, y, size, color, opacity) {
        ctx.globalAlpha = opacity;
        ctx.fillStyle = color;

        ctx.beginPath();
        ctx.moveTo(x, y);
        ctx.bezierCurveTo(
          x - size / 2, y - size / 2,
          x - size, y + size / 3,
          x, y + size
        );
        ctx.bezierCurveTo(
          x + size, y + size / 3,
          x + size / 2, y - size / 2,
          x, y
        );
        ctx.fill();

        ctx.globalAlpha = 1;
      }

      function update() {
        ctx.clearRect(0, 0, canvas.width, canvas.height);

        hearts.forEach(h => {
          h.y += h.speed;

          if (h.y > canvas.height + 20) {
            h.y = -20;
            h.x = Math.random() * canvas.width;
          }

          drawHeart(h.x, h.y, h.size, h.color, h.opacity);
        });

        requestAnimationFrame(update);
      }

      update();
    }
  </script>
</body>
</html>
